<!DOCTYPE html>
<html>
<head>
    <title>MOBSCE Documentation | Functions</title>
</head>
<body>
    <div class="container">
        <h1>MOBSCE Documentation</h1> 
        <a href="index.html">Home</a>
        <h2>Functions</h2>
        
        <h2>Engine</h2>
        
        <h4>ThrowError</h4>
        <dt>Parameters</dt>
        <dd>char* Message - Error message to display.</dd>
        <dd>char* Thrower - Function the error occurred in with passed parameters.</dd>
        <dd>Engine* Engine - Engine that will be cleaned up afterwards.</dd>
        <dt>Description</dt>
        <dd>Creates an SDL error window and cleans up the engine.</dd>
        <dt>Usage</dt>
        <dd>When execution can or should not continue, such as when a segfault is likely to occur.</dd>
        
        <h4>ThrowWarning</h4>
        <dt>Parameters</dt>
        <dd>char* Message - Error message to display.</dd>
        <dd>char* Thrower - Function the warning occurred in with passed parameters.</dd>
        <dt>Description</dt>
        <dd>Prints the message and the thrower to the terminal.</dd>
        <dt>Usage</dt>
        <dd>When something has gone wrong, or is otherwise noteworthy, but execution can continue.</dd>
        
        <h4>GetNewObjectID</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose ID will be accessed.</dd>
        <dt>Description</dt>
        <dd>Increments the engine's ID counter and returns it.</dd>
        <dt>Return</dt>
        <dd>Uint64 - A unique 64-bit number.</dd>
        <dt>Usage</dt>
        <dd>For creating objects that need unique IDs.</dd>
        
        <h4>CompactArray</h4>
        <dt>Parameters</dt>
        <dd>const void* X - Item X.</dd>
        <dd>const void* Y - Item Y.</dd>
        <dt>Description</dt>
        <dd>Items that are NULL will moved to the end of the array.</dd>
        <dt>Return</dt>
        <dd>int - 1 to move item X forward, -1 to move item X backward, 0 to retain item X's position.</dd>
        <dt>Usage</dt>
        <dd>Used with qsort when modifying pools to get NULLs out of the way.</dd>
        
        <h4>SortSpritesByZ</h4>
        <dt>Parameters</dt>
        <dd>const void* X - Item X.</dd>
        <dd>const void* Y - Item Y.</dd>
        <dt>Description</dt>
        <dd>Sorts sprites by their Z position so that when the are rendered the sprites with a higher Z value are drawn on top.</dd>
        <dt>Return</dt>
        <dd>int - 1 to move item X forward, -1 to move item X backward, 0 to retain item X's position.</dd>
        <dt>Usage</dt>
        <dd>Used with qsort in Render when engine's SpriteZResortNeeded is set to maintain render layering.</dd>
        
        <h4>PoolCanBeShrunk</h4>
        <dt>Parameters</dt>
        <dd>void* Pool - Pool to check.</dd>
        <dd>int AllocatedElements - Number of valid elements in the pool.</dd>
        <dd>int AllocatedSize - Allocated size of the pool.</dd>
        <dt>Description</dt>
        <dd>Checks if a pool has MIN_ALLOCATE NULLs.</dd>
        <dt>Return</dt>
        <dd>int - 1 if the pool can be shrunk, 0 if not.</dd>
        <dt>Usage</dt>
        <dd>When removing resources from pools, reallocation to a smaller size may be needed, use this to check.</dd> 
        
        <h4>LinearMap</h4>
        <dt>Parameters</dt>
        <dd>int Number - Number to map.</dd>
        <dd>int NumberMax - Upper limit of Number.</dd>
        <dd>int RangeMax - Upper limit of the range.</dd>
        <dd>int RangeMin - Lower limit of the range.</dd>
        <dt>Description</dt>
        <dd>Maps one number onto a range, 50 with a max of 100 in a range of 0-128 becomes 64.</dd>
        <dt>Return</dt>
        <dd>int - Mapped number.</dd>
        <dt>Usage</dt>
        <dd>Used mainly in sound functions for volume and panning.</dd>
        
        <h4>SeedRNG</h4>
        <dt>Description</dt>
        <dd>Seeds the stdlib rand function with time's time.</dd>
        <dt>Usage</dt>
        <dd>Called in InitEngine</dd>
        
        <h4>GetRandomNumber</h4>
        <dt>Parameters</dt>
        <dd>int Max - Ceiling for random number.</dd>
        <dt>Description</dt>
        <dd>Uses stdlib rand to get a random number.</dd>
        <dt>Return</dt>
        <dd>int - Random number % Max.</dd>
        <dt>Usage</dt>
        <dd>When randomness is needed.</dd>
        
        <h4>handler</h4>
        <dt>Usage</dt>
        <dd>Used for inih config file parsing.</dd>
        
        <h4>UpdateConfig</h4>
        <dt>Parameters</dt>
        <dd>char* File - Config file to be parsed.</dd>
        <dd>Config* Config - Config struct that will be filled with parsed config file values.</dd>
        <dt>Description</dt>
        <dd>Sets default config values as a fallback and parses config file.</dd>
        <dt>Return</dt>
        <dd>int - 1 on failure, 0 on success.</dd>
        <dt>Usage</dt>
        <dd>Used in InitEngine to ensure a valid config is loaded.</dd>
        
        <h4>LoadEngineConfig</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose config will be filled.</dd>
        <dt>Description</dt>
        <dd>Loads the engine's config values into the relevent structs.</dd>
        <dt>Usage</dt>
        <dd>Used in InitEngine.</dd>
        
        <h4>InitSDL</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose audio codecs flag will be used.</dd>
        <dt>Description</dt>
        <dd>Initializes SDL with the SDL_INIT_EVERYTHING flag. Engine's audio codecs flag is used to init SDL_mixer.</dd>
        <dt>Return</dt>
        <dd>int - 1 if SDL fails to initialize, 2 if SDL_mix fails to load some or all codecs, 0 on success.</dd>
        <dt>Usage</dt>
        <dd>Used in InitEngine to prepare SDL.</dd>
        
        <h4>GetSDLEvents</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose events will be filled.</dd>
        <dt>Description</dt>
        <dd>Fills Engine's events array with events polled from SDL.</dd>
        <dt>Usage</dt>
        <dd>Used in RunEngine to keep events updated. This is a workaround for SDL's event system.</dd>
        
        <h4>CleanupSDL</h4>
        <dt>Description</dt>
        <dd>Kills SDL through SDL_Quit.</dd>
        <dt>Usage</dt>
        <dd>Used in CleanupEngine to ensure that residual SDL data does not interfere with future instances.</dd> 
        
        <h4>GetBasePath</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whos basepath will be set.</dd>
        <dt>Description</dt>
        <dd>Gets the file system path to the binary and sets Engine's basepath.</dd>
        <dt>Return</dt>
        <dd>int - 1 if SDL_GetBasePath fails, -1 if Engine is NULL, 0 on success.</dd>
        <dt>Usage</dt>
        <dd>Used in InitEngine to ensure that assets can be concatenated correctly.</dd>
        
        <h4>GetAssetPath</h4>
        <dt>Parameters</dt>
        <dd>char* Asset - Path to an asset.</dd>
        <dd>Engine* Engine - Engine whose basepath will be used.</dd>
        <dt>Description</dt>
        <dd>Concatanates Engine's basepath and Asset.</dd>
        <dt>Return</dt>
        <dd>char* - NULL if Engine is NULL, Asset on success.</dd>
        <dt>Usage</dt>
        <dd>Good practice to when caching assets. Using relative paths only may break if binary is not run from its directory.</dd>
        
        <h4>InitEngine</h4>
        <dt>Parameters</dt>
        <dd>char* ConfigFile - Path to the config file that will be read.</dd>
        <dt>Description</dt>
        <dd>Starts the engine, creates resource pools, sets up state and configuration.</dd>
        <dt>Return</dt>
        <dd>Engine* - The engine that is created.</dd>
        <dt>Usage</dt>
        <dd>Use to create an engine.</dd> 
        
        <h4>RunEngine</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - The engine that is run.</dd>
        <dt>Description</dt>
        <dd>Does all the things needed to use the engine. Fills state and runs Sprite and Actor routines.</dd>
        <dt>Usage</dt>
        <dd>Use to advance engine by one tick/frame.</dd> 
        
        <h4>CleanupEngine</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - The engine that will be destroyed.</dd>
        <dt>Description</dt>
        <dd>Destroys an engine. Frees all cached assets, actors, sprites, and resource pools. Stops SDL.</dd>
        <dt>Usage</dt>
        <dd>Use to destroy an engine after work is done. Best practice but memory will likely be reclaimed by OS without manual cleanup.</dd> 
        
        <h2>Audio</h2>
        
        <h4>InitAudio</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose config will be used to initialize audio.</dd>
        <dt>Description</dt>
        <dd>Opens audio for playback with Engine's configuration. Allocates voices according to Engine's configuration.</dd>
        <dt>Return</dt>
        <dd>int - 1 if Mix_OpenAudio failed, 2 if voice allocation failed, -1 if Engine is NULL, 0 on success.</dd>
        <dt>Usage</dt>
        <dd></dd> 
        
        <h4>EasyPan</h4>
        <dt>Parameters</dt>
        <dd>int Pan - A value that controls the pan.</dd>
        <dd>int Max - The maximum value that Pan could be.</dd>
        <dd>int* Output - Array that the pan result is copied to.</dd>
        <dt>Description</dt>
        <dd>Takes a pan value and maps it to SDL_mixer's expected pan range.</dd>
        <dt>Return</dt>
        <dd>int* - Integer array with two elements. Index 0 contains the left value, index 1 contains the right value.</dd>
        <dt>Usage</dt>
        <dd>Used in PlaySound to get a valid pan value.</dd> 
        
        <h4>PlaySound</h4>
        <dt>Parameters</dt>
        <dd>int SoundID - Used to fetch a sound by indexing into the Sounds pool.</dd>
        <dd>int Voice - The voice (sound channel) the sound will be played on.</dd>
        <dd>int Volume - Volume the sound will be played at. Mixes together with the engine's volume automatically.</dd>
        <dd>int Pan - Value from 0 to the logical screen width that controls the pan of the sound.</dd>
        <dd>Engine* Engine - Engine whose sounds and configuration will be used.</dd>
        <dt>Description</dt>
        <dd>Plays a sound. Uses the passed arguments to mix the sound before playing.</dd>
        <dt>Return</dt>
        <dd>int - 1 if SoundID yields an invalid sound, 2 if the sound fails to play, -1 if Engine is NULL, 0 on success or if muted.</dd>
        <dt>Usage</dt>
        <dd>Use to play sounds.</dd> 
        
        <h4>MixMusicVolume</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose configuration will be used.</dd>
        <dt>Description</dt>
        <dd>Changes the volume of the music voice.</dd>
        <dt>Usage</dt>
        <dd>Used in RunEngine to ensure the music volume is consisten with engine state.</dd> 
        
        <h4>PlayMusic</h4>
        <dt>Parameters</dt>
        <dd>int MusicID - Used to fetch music by indexing into the music pool.</dd>
        <dd>Engine* Engine - Engine whose music will be used.</dd>
        <dt>Description</dt>
        <dd>Plays music.</dd>
        <dt>Return</dt>
        <dd>int - 1 if MusicID yields an invalid music, 2 if the music fails to play, -1 if Engine is NULL, 0 on success or if muted.</dd>
        <dt>Usage</dt>
        <dd></dd> 
        
        <h2>Video</h2>
        
        <h4>InitVideo</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose configuration will be used.</dd>
        <dt>Description</dt>
        <dd>Creates a window and renderer, and attatches them to Engine.</dd>
        <dt>Return</dt>
        <dd>int - 1 if failed to open window, 2 if failed to create renderer, -1 if Engine is NULL, 0 on success.</dd>
        <dt>Usage</dt>
        <dd>Used in InitEngine to create the graphical environment.</dd> 
        
        <h4>CleanupVideo</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose renderer and window will be destroyed.</dd>
        <dt>Description</dt>
        <dd>Destroys the window and renderer of Engine.</dd>
        <dt>Usage</dt>
        <dd>Used in CleanupEngine to ensure future instances do not have SDL conflicts.</dd> 
        
        <h4>DrawTexture</h4>
        <dt>Parameters</dt>
        <dd>SDL_Texture* Texture - The texture to be drawn, must be cached in the Textures pool or somewhere else.</dd>
        <dd>Vector2 Position - The X and Y coordinates on the screen that the texture will be drawn to.</dd>
        <dd>Vector2 Origin - The rectangle on the texture that will be drawn.</dd>
        <dd>Engine* Engine - Engine whose renderer the texture will be drawn to.</dd>
        <dt>Description</dt>
        <dd>Draws a texture.</dd>
        <dt>Return</dt>
        <dd>int - 1 if Texture is invalid, 2 if texture querying fails, 3 if texture fails to draw, -1 if Engine is NULL, 0 on success.</dd>
        <dt>Usage</dt>
        <dd>Not recommended, use a Sprite.</dd> 
        
        <h4>DrawSprite</h4>
        <dt>Parameters</dt>
        <dd>Sprite* Sprite - Sprite to be drawn.</dd>
        <dd>Engine* Engine - Engine whos renderer will be used.</dd>
        <dt>Description</dt>
        <dd>Draws a sprite.</dd>
        <dt>Return</dt>
        <dd>int - 1 if Sprite is invalid, 2 if drawing fails, -1 if Engine is NULL, 0 on success.</dd>
        <dt>Usage</dt>
        <dd></dd> 
        
        <h4>Render</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose renderer will be rendered.</dd>
        <dt>Description</dt>
        <dd>Renders all sprites in Engine's Sprite pool.</dd>
        <dt>Usage</dt>
        <dd>Used in RunEngine to render sprites to the screen.</dd> 
        
        <h2>Input</h2>
        
        <h4>GetKeyboardInput</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose input state will be set</dd>
        <dt>Description</dt>
        <dd>Polls keyboard input and fills Engine's input state.</dd>
        <dt>Usage</dt>
        <dd>Used in GetInput.</dd> 
        
        <h4>GetMouseInput</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose input state will be set</dd>
        <dt>Description</dt>
        <dd>Polls mouse input and fills Engine's input state.</dd>
        <dt>Usage</dt>
        <dd>Used in GetInput.</dd> 
        
        <h4>GetGamepadInput</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose input state will be set</dd>
        <dt>Description</dt>
        <dd>Polls gamepad input and fills Engine's input state.</dd>
        <dt>Usage</dt>
        <dd>Used in GetInput.</dd> 
        
        <h4>GetInput</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose input state will be set</dd>
        <dt>Description</dt>
        <dd>Polls input of the keyboard, mouse, and gamepad and fills Engine's input state.</dd>
        <dt>Usage</dt>
        <dd>Used in RunEngine.</dd> 
        
        <h2>Clock</h2>
        
        <h4>KeepTime</h4>
        <dt>Parameters</dt>
        <dd>Engine* Engine - Engine whose clock struct will be set.</dd>
        <dt>Description</dt>
        <dd>Updates the clock struct of Engine.</dd>
        <dt>Usage</dt>
        <dd>Used in RunEngine to keep timing information updated.</dd>
    </div>
</body>
</html>

<!-- 
        <h4></h4>
        <dt>Parameters</dt>
        <dd></dd>
        <dt>Description</dt>
        <dd></dd>
        <dt>Return</dt>
        <dd></dd>
        <dt>Usage</dt>
        <dd></dd> 
-->